{% extends 'base.html' %}
{% load static %}
{% block title %}Generar Credenciales{% endblock %}

{% block breadcrumb %}Generador de Credenciales{% endblock %}

{% block content %}
<div class="card bg-base-100 shadow-xl">
    <div class="card-body">
        <div class="mb-6">
            <h2 class="card-title text-2xl">Generador de Credenciales</h2>
            <p class="text-base-content/70 mt-2">Selecciona un docente de la lista para generar e imprimir su credencial personalizada.</p>
        </div>

        <div class="overflow-x-auto">
            <table class="table">
                <thead>
                    <tr>
                        <th>Docente</th>
                        <th>DNI</th>
                        <th class="text-right">Acci√≥n</th>
                    </tr>
                </thead>
                <tbody>
                    {% for docente in docentes %}
                    <tr class="hover">
                        <td>
                            <div class="flex items-center gap-4">
                                <div class="avatar">
                                    <div class="mask mask-squircle w-12 h-12">
                                        <img src="{% if docente.foto %}{{ docente.foto.url }}{% else %}{% static 'placeholder.png' %}{% endif %}" alt="Foto de {{ docente.first_name }}" />
                                    </div>
                                </div>
                                <div>
                                    <div class="font-bold">{{ docente.first_name }} {{ docente.last_name }}</div>
                                    <div class="text-sm opacity-60">{{ docente.email|default:"Sin email" }}</div>
                                </div>
                            </div>
                        </td>
                        <td>
                            <span class="badge badge-ghost badge-sm">{{ docente.dni }}</span>
                        </td>
                        <td class="text-right">
                            <a href="{% url 'generar_credencial' docente.id %}" target="_blank" class="btn btn-primary btn-sm">
                                <i class="fas fa-id-card"></i>
                                Generar
                            </a>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="3" class="text-center p-8">
                            <i class="fas fa-users fa-2x mb-4 text-base-content/30"></i>
                            <p class="text-base-content/60">No hay docentes registrados en el sistema.</p>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}